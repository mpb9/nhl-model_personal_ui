<div class="col-md-12 upload-page">
  <div class="col-md-3 my-fit pad-0" style="min-height: 80vh; background-color: black; border: 4px solid rgb(153, 196, 103); padding-bottom: 10px; text-align: left; font-size: 145%;">
    <div class="btn-group" style="width: 100%; border: 5px solid rgb(153, 196, 103);" appDropdown>
      <button class="upload-header-btn dropdown-toggle" type="button" style="padding: 5px 9px; width: 100%; font-size: 100%;" (click)="showDiagnostics = !showDiagnostics">
        DIAGNOSTICS
        <span class="my-caret" style="color: black;"></span>
      </button>
      <ul class="list-of-diagnostics" *ngIf="showDiagnostics" style="width: 100%;">
        <li><b>{{numPages}}</b> pages</li>
        <li><b>{{numRows}}</b> rows</li>
        <li><b>{{numCols}}</b> cols</li>
        <li>All Columns Same? <b>{{allColsSame}}</b></li>
      </ul>
    </div>
    <div class="row my-fit pad-10" style="text-decoration: underline; font-size: 90%; color: rgb(153, 196, 103);">
      ALTER SCRAPED DATA
    </div>
    <div class="row my-fit" style="padding-left: 20px; text-align: left;">
      <div class="row my-fit" style="padding-bottom: 15px;">
        <a class="option-btn" type="button" *ngIf="swappingCols[0] == -1" (click)="prep_swappingCols()">SWAP COLUMNS</a>
        <a class="cancel-option-btn" type="button" *ngIf="swappingCols[0] != -1" (click)="cancelAlteration()">NVM!</a>
      </div>
      <div class="row my-fit" style="padding-bottom: 15px;">
        <a class="option-btn" type="button" *ngIf="!deletingCol" (click)="prep_deletingCol()">DELETE COLUMN</a>
        <a class="cancel-option-btn" type="button" *ngIf="deletingCol" (click)="cancelAlteration()">NVM!</a>
      </div>
      <div class="row my-fit">
        <a class="option-btn" type="button" *ngIf="!deletingRow"  (click)="prep_deletingRow()">DELETE ROW</a>
        <a class="cancel-option-btn" type="button" *ngIf="deletingRow" (click)="cancelAlteration()">NVM!</a>
      </div>
    </div>
  </div>
  <div class="col-md-9 my-fit pad-0">
    <div class="row my-fill-1 my-fit" style="padding: 5px 0px; background-image: linear-gradient(to bottom, rgb(0 0 0), #a6e7a8)">
      <div class="col-md-auto" style="text-align: right; padding-right: 0px; padding-left: 0px; padding-top: 4px;">
        <a class="upload-header-btn" type="button" style="margin-right: 20px; font-size: 150%; padding: 5px 25px;">SQL</a>
        <a class="exit-upload-btn" type="button" style="font-size: 150%; padding: 5px 20px;" 
          href="http://localhost:4200/scraper">leave forever</a>
      </div>
    </div>
    <div class="row my-fit" style="padding-top: 5px;">
      <div class="row my-fit" style="padding-left: 15px; font-size: 125%;">
        <b>SQL Table: </b>{{query.table.name}}... ({{query.table.columns.length}} cols)
      </div>
      <div class="row my-fit sql-table">
        <table>
          <tr>
            <th class="sql-table-cols" *ngFor="let col of query.table.columns; let i=index">
              <div class="row my-fit" style="font-weight: 100; font-size: 100%; height: 20px; background-color: rgba(0, 0, 0, 0.6);">
                {{i+1}}
              </div>
              <div class="row my-fit" style="font-weight: 100; font-size: 100%;">
                <b>{{col.name}}</b>
                <p style="padding: 0px; margin: 0px;">
                  ({{col.type}})
                </p>
              </div>
            </th>
          </tr>
        </table>      
      </div>
      <div class="row my-fit" style="padding-left: 15px; font-size: 125%;">
        <b>Scraped Data</b> (pg.<input class="page-input" type="text" placeholder="#" (change)="changePage($event)"
        [value]="(pageNumber+1)"> of {{numPages}})
      </div>
      <div class="row my-fit scraped-table">
        <table>
          <tr>
            <th class="scraped-table-cols" *ngFor="let header of rawScrape.headers; let i=index" (click)="handleColumnClick(i)"
              [ngClass]="{deletingColsCSS: deletingCol, swappingColsCSS: swappingCols[0] != -1, selectedForSwapCSS: swappingCols[1] == i}" >
              <div class="row my-fit" style="font-weight: 100; font-size: 100%; height: 20px; background-color: rgba(0, 0, 0, 0.6); margin-top: 0px;">
                {{i+1}}
              </div>
              <div class="row my-fit" style="font-weight: 100; font-size: 90%; margin: 1px 5px; width: max-content; min-width: 100px;">
                <b>{{header}}</b>
                <p style="padding: 0px; margin: 0px;">
                </p>
              </div>
            </th>
          </tr>
          <tr *ngFor="let row of rawScrape.data[pageNumber]; let i=index" [ngClass]="{deletingRowsCSS: deletingRow}">
            <td class="scraped-table-data" *ngFor="let cell of row;" (click)="handleRowClick(i)">
              {{cell}}
            </td>
          </tr>
        </table>      
      </div>
    </div>
  </div>
  
  <div class="row my-fit">
   
  </div>
</div>